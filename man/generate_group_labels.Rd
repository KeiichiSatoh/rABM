% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generate_group_labels.R
\name{generate_group_labels}
\alias{generate_group_labels}
\title{Generate Group labels Based on Proportions with Adjustment}
\usage{
generate_group_labels(n, prop, adjustment_by = NULL, random_adjustment = TRUE)
}
\arguments{
\item{n}{Integer. The total number of items to allocate.}

\item{prop}{Numeric vector. Proportions for each group.
If unnamed, groups will be labeled as integers (1, 2, ...).}

\item{adjustment_by}{Optional. A single group label to prioritize
when adjusting counts. Must match one of the group labels.}

\item{random_adjustment}{Logical. If \code{TRUE}, adjustments are
made randomly across groups when \code{adjustment_by} is not specified.
Default is \code{TRUE}.}
}
\value{
A character or integer vector of length \code{n},
containing the group labels for each item.
}
\description{
This function generates a vector of group labels based on
given proportions and adjusts the allocation if the total count
differs from the expected size. Adjustments can be made randomly
or by prioritizing a specific group.
}
\details{
The function starts by scaling the proportions to sum to 1 and
calculates the initial allocation using \code{round(n * prop)}.
If the total count (\code{sum(gr_n)}) does not equal \code{n},
adjustments are made:
\itemize{
\item If \code{adjustment_by} is provided, the specified group is adjusted
to correct the total.
\item Otherwise, adjustments are made randomly across groups when
\code{random_adjustment = TRUE}.
}

The function includes safeguards to prevent infinite loops during
adjustments.
}
\examples{
# Basic usage with named proportions
generate_group_labels(10, c(A = 0.4, B = 0.6))

# Adjust prioritizing group "A"
generate_group_labels(11, c(A = 0.4, B = 0.6), adjustment_by = "A")

# Random adjustment without specifying a group
generate_group_labels(11, c(A = 0.4, B = 0.6), random_adjustment = TRUE)

}
